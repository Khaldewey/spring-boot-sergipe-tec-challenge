<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Depositar em Conta Corrente</title>
    <script>
        function showDepositInput(accountId) {
            // Definindo o valor do campo hidden e exibindo o ID no título
            document.getElementById('accountId').value = accountId;
            document.getElementById('account-id-display').textContent = accountId;
            // Mostrando o formulário de depósito
            document.getElementById('deposit-form').style.display = 'block';
        }
    </script>
</head>
<body>
    <h1>Depositar em Conta Poupança</h1>

    <!-- Tabela com a lista de contas correntes -->
    <table>
        <thead>
            <tr>
                <th>ID da Conta</th>
                <th>Nome do Cliente</th>
                <th>Saldo Atual</th>
                <th>Ação</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="account : ${savingAccounts}">
                <td th:text="${account.id}">1</td>
                <td th:text="${account.nameClient}">Cliente 1</td>
                <td th:text="${account.saldo}">1000.00</td>
                <td>
                    <!-- Botão que chama a função showDepositInput com o ID da conta -->
                    <button type="button" th:onclick="'showDepositInput(' + ${account.id} + ')'">
                        Selecionar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Formulário de depósito (escondido até que uma conta seja selecionada) -->
    <div id="deposit-form" style="display: none;">
        <h3>Fazer Depósito na conta ID: <span id="account-id-display"></span></h3>
        <form th:action="@{/dashboard/deposit-saving-account}" method="post">
            <!-- Campo oculto para armazenar o ID da conta -->
            <input type="hidden" id="accountId" name="accountId" />
            <label for="depositAmount">Valor do Depósito:</label>
            <input type="number" id="depositAmount" name="balance" step="0.01" required />
            <button type="submit">Depositar</button>
        </form>
    </div>
    <a href="/dashboard">Voltar</a>
</body>
</html>

